<h2 mat-dialog-title>{{ mode === 'crear' ? 'Nuevo Usuario' : 'Editar Usuario' }}</h2>

<mat-dialog-content>
  <div class="dialog-content">

    <!-- Fila 1: Nombres y Apellidos -->
    <div class="form-row">
      <div class="form-group">
        <label>Nombres *</label>
        <input type="text"
               [(ngModel)]="usuario.nombres"
               placeholder="Juan Carlos"
               class="form-input">
      </div>

      <div class="form-group">
        <label>Apellidos *</label>
        <input type="text"
               [(ngModel)]="usuario.apellidos"
               placeholder="Pérez García"
               class="form-input">
      </div>
    </div>

    <!-- Fila 2: DNI y Teléfono -->
    <div class="form-row">
      <div class="form-group">
        <label>DNI *</label>
        <input type="text"
               [(ngModel)]="usuario.dni"
               placeholder="12345678"
               maxlength="8"
               class="form-input">
      </div>

      <div class="form-group">
        <label>Teléfono</label>
        <input type="text"
               [(ngModel)]="usuario.telefono"
               placeholder="987654321"
               maxlength="9"
               class="form-input">
      </div>
    </div>

    <!-- Fila 3: Email (full width) -->
    <div class="form-group">
      <label>Email *</label>
      <input type="email"
             [(ngModel)]="usuario.email"
             placeholder="jperez@kallpa.com"
             class="form-input">
    </div>

    <!-- Fila 4: Cargo y Área -->
    <div class="form-row">
      <div class="form-group">
        <label>Cargo *</label>
        <input type="text"
               [(ngModel)]="usuario.cargo"
               placeholder="Supervisor SSOMA"
               class="form-input">
      </div>

      <div class="form-group">
        <label>Área *</label>
        <input type="text"
               [(ngModel)]="usuario.area"
               placeholder="Seguridad y Salud Ocupacional"
               class="form-input">
      </div>
    </div>

    <!-- Fila 5: Grupo y Estado -->
    <div class="form-row">
      <div class="form-group">
        <label>Grupo *</label>
        <select [(ngModel)]="usuario.grupo_id" (ngModelChange)="onGrupoChange()" class="form-input">
          <option [value]="0">Seleccione un grupo</option>
          <option *ngFor="let grupo of grupos" [value]="grupo.grupo_id">
            {{ grupo.nombre }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>Estado</label>
        <select [(ngModel)]="usuario.estado" class="form-input">
          <option value="ACTIVO">ACTIVO</option>
          <option value="INACTIVO">INACTIVO</option>
        </select>
      </div>
    </div>

  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="cancelar()">Cancelar</button>
  <button mat-raised-button color="primary" (click)="guardar()">
    {{ mode === 'crear' ? 'Crear' : 'Guardar' }}
  </button>
</mat-dialog-actions>
